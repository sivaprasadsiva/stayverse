<style>
   ::-webkit-scrollbar-thumb {
  background: red; 
  border-radius: 10px;
}
</style>

            <footer class="section-style footer-con">
                <div class="container">
                    <div class="footer-head">
                        <a class="footer-head-btn login-btn" href="<?= base_url();?>Homestay">
                            Partners Login
                        </a>
                    </div>
                    <div class="footer-body row">
                        <div class="foot-sec-con col-lg-3 col-md-6 col-sm-12 col-12">
                            <div class="logo-con">
                                <img src="<?= base_url();?>assets1/images/logo.png" alt="">
                            </div>
                            <div class="social">
                                <a href="" class="social-btn insta">
                                    <i class="fa-brands fa-instagram"></i>
                                </a>
                                <a href="" class="social-btn twitter">
                                    <i class="fa-brands fa-twitter"></i>
                                </a>
                                <a href="" class="social-btn fb">
                                    <i class="fa-brands fa-facebook"></i>
                                </a>
                            </div>
                        </div>
                        <div class="foot-sec-con col-lg-3 col-md-6 col-sm-12 col-12">
                            <div class="head">
                                <h2>Quick Links</h2>
                            </div>
                            <ul class="ul-style">
                                <li class="li-style">
                                    <a href="<?= base_url().'userpanel/index'?>">
                                        <h5>Home</h5>
                                    </a>
                                </li>
                                <li class="li-style">
                                    <a href="">
                                        <h5>About</h5>
                                    </a>
                                </li>
                                <li class="li-style">
                                    <a href="<?= base_url().'userpanel/booking'?>">
                                        <h5>Homestay Booking</h5>
                                    </a>
                                </li>
                                <li class="li-style">
                                    <a href="">
                                        <h5>Contact</h5>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="foot-sec-con col-lg-3 col-md-6 col-sm-12 col-12">
                            <div class="head">
                                <h2>Quick Links</h2>
                            </div>
                            <ul class="ul-style">
                                <li class="li-style">
                                    <a href="">
                                        <h5>Terms and Conditions</h5>
                                    </a>
                                </li>
                                <li class="li-style">
                                    <a href="">
                                        <h5>Privacy Policy</h5>
                                    </a>
                                </li>
                                <li class="li-style">
                                    <a href="">
                                        <h5>Cancellation Policy</h5>
                                    </a>
                                </li>
                                <li class="li-style">
                                    <a href="">
                                        <h5>FAQ</h5>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="foot-sec-con col-lg-3 col-md-6 col-sm-12 col-12">
                            <div class="head">
                                <h2>Address</h2>
                            </div>
                            <ul class="ul-style">
                                <li class="li-style">
                                    <h5>STAYVERSE PVT LTD(T-TBI) , G3B,
                                        Ground Floor , Thejaswani building ,
                                        Technopark </h5>
                                </li>
                                <li class="li-style">
                                    <h5>Campus,Kariyavattom,Trivandrum.</h5>
                                </li>
                                <li class="li-style">
                                    <h5>695581</h5>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer-foot">
                        <div class="row">
                            <div class="footer-foot-box col-lg-6 col-md-6 col-sm-12 col-12">
                                <h5>Copyright Â©2023 <a href="">Stayverse</a> All Rights Reserved</h5>
                            </div>
                            <div class="footer-foot-box col-lg-6 col-md-6 col-sm-12 col-12">
                                <ul class="ul-style footer-foot-ul">
                                    <li class="li-style li-foot-foot">
                                        <a href="">
                                            <h5>Support</h5>
                                        </a>
                                    </li>
                                    <li class="li-style li-foot-foot">
                                        <a href="">
                                            <h5>Terms of Use</h5>
                                        </a>
                                    </li>
                                    <li class="li-style li-foot-foot">
                                        <a href="">
                                            <h5>Privacy Policy</h5>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>



<!-- Modal-OTP CHECKING -->
<div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModal2Label" aria-hidden="true">
        <div class="modal-dialog-con modal-dialog">
            <div class="modal-dialog modal-dialog-width">
                <div class="modal-content">
                    <div class="modal-body row">
                        <div class="col-lg-5 col-md-5 col-sm-12 col-12">
                            <div class="pop-image-con">
                                <img src="https://img.freepik.com/premium-photo/high-altitude-mountain-peak-snow-mountain-peak-background-wallpaper-illustration-nature-landscape_916211-87329.jpg?size=626&ext=jpg&ga=GA1.1.1413502914.1696809600&semt=ais"
                                    alt="">
                            </div>
                        </div>
                        <div class="col-lg-7 col-md-7 col-sm-12 col-12">
                            <div class="pop-content-area">
                                <div class="pop-btn-head">
                                    <ul class="ul-style btn-ul">
                                        <li class="btn-li active"><h5>User Login</h5></li>
                                    </ul>
                                </div>
                                <div class="pop-head">
                                    <h2>OTP Checking</h2>
                                </div>
                                <div class="pop-sub-head">
                                    <h5>Please enter your phone number to continue</h5>
                                </div>
                                <div class="pop-body">
                                    <div class="input-box">
                                        <div class="input-box-style-con">
                                            <input class="input-box-style phone-input" type="phone" id="phone_valid2" value="" readonly>
                                            <span class="country-code">+91</span>
                                        </div>
                                    </div>
                                    <div class="input-box">
                                        <div class="input-box-style-con">
                                            <input class="input-box-style phone-input" type="otp" id="otp" placeholder="Enter OTP" required>
                                        </div>
                                    </div>
                                    <p style="color:red;display:none;" id="error_otp">Incorrect OTP</p>
                                    <p style="color:green;display:none;" id="error_otp1">New OTP has been sent.</p>
                                    <div class="btns-control">
                                        <button type="submit" class="sign-log-btn" id="otp_check">
                                            <h4>Check</h4>
                                        </button>
                                    </div>
                                    <div class="btns-control" id="resend_btn" style="display:none;">
                                        <button type="submit" class="sign-log-btn" id="resend" style="background:red;">
                                            <h4>Resend</h4>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal-OTP CHECKING -->
    <!-- Modal-OTP GENERATOR -->
    <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModal1Label" aria-hidden="true">
        <div class="modal-dialog-con modal-dialog">
            <div class="modal-dialog modal-dialog-width">
                <div class="modal-content">
                    <div class="modal-body row">
                        <div class="col-lg-5 col-md-5 col-sm-12 col-12">
                            <div class="pop-image-con">
                                <img src="https://img.freepik.com/premium-photo/high-altitude-mountain-peak-snow-mountain-peak-background-wallpaper-illustration-nature-landscape_916211-87329.jpg?size=626&ext=jpg&ga=GA1.1.1413502914.1696809600&semt=ais"
                                    alt="">
                            </div>
                        </div>
                        <div class="col-lg-7 col-md-7 col-sm-12 col-12">
                            <div class="pop-content-area">
                                <div class="pop-btn-head">
                                    <ul class="ul-style btn-ul">
                                        <li class="btn-li active"><h5>User Login</h5></li>
                                    </ul>
                                </div>
                                <div class="pop-head">
                                    <h2>Login</h2>
                                </div>
                                <div class="pop-sub-head">
                                    <h5>Please enter your phone number to continue</h5>
                                </div>
                                <div class="pop-body">
                                    <div class="input-box">
                                        <div class="input-box-style-con">
                                            <input class="input-box-style phone-input" type="text" id="phone_validate" pattern="[0-9]{10}" required>
                                            <span class="country-code">+91</span>
                                        </div>
                                    </div>
                                    <div class="btns-control">
                                       <p style="color:red;display:none;" id="error_mobile">Invalid phone number.</p>
                                        <button class="sign-log-btn" id="btn_mobile">
                                            <h4>Verify Number</h4>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal-OTP GENERATOR -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="<?= base_url();?>assets1/js/blink.js"></script>
    <script src="<?= base_url();?>assets1/js/dragbox.js"></script>
    <script src="<?= base_url();?>assets1/js/main.js"></script>
    <script src="<?= base_url();?>assets1/js/toggle.js"></script>
    <script src="https://kit.fontawesome.com/f4bdbb2aa6.js" crossorigin="anonymous"></script>
    <script src="<?= base_url();?>assets1/js/calender.js"></script>

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>



    <script src="<?= base_url();?>assets1/js/carousel-2.js"></script>
    <script src="<?= base_url();?>assets1/js/swiper-bundle.min.js"></script>
    <!-- Date Picker -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>


 
    <script type="text/javascript">

         <?php if(!empty($modal)){?>
                        $('.login-btn').trigger('click');
                    <?php }?>
        
      $('.location').on('keyup', function () {  
      var search = $(this).val();
      
      if(search == ''){
            $('.search-box').show();
          $('.search-icon').show();
       }else{
          
          $('.search-box').hide();
        $('.search-icon').hide();
        $('#recentSearch').hide();
       }
   });
      $('.search-box').on('focusin', function () { 
            
            $.ajax({
         type: "POST",
         url: "<?= base_url() ?>userpanel/recentSearch",
         dataType:'json',
         success: function (response) {
            var append = "";
            var n = response.length - 5;
            for(j in response){
                 if(j >= n) { 
                    $('#recentSearch').show();
                append += '<a href="<?= base_url('userpanel/recentSearch1/')?>'+j+'" style="color:black;font-weight:bold;"><i class="fa fa-search" style="font-size:12px;"></i>&nbsp;&nbsp;'+response[j].location+'&nbsp;&nbsp;&nbsp;&nbsp;'+response[j].checkin+'  to  '+response[j].checkout+' </a><br><br>';
             }
            }
            $('#recentSearch').html(append);
            
         },
         error:function(){
            $('#recentSearch').show();
            $('#recentSearch').html('<p style="color:black"><b>No search result found.</b></p>');
         },



      }); 
   });



      
   $('.search-hotel').on('keyup', function () {  
      var search = $(this).val();
      $.ajax({
         type: "POST",
         url: "<?= base_url() ?>userpanel/search_hotel",
         data: { 'search': search },
         success: function (response) {
            $('.old_filter').hide();
            $('.new_filter').html(response);
         },



      });
   
   });

   $('.check_home').click(function(){
      var action = 'data';
      var category = get_filter('CheckCategory');
      var roomtype = get_filter('CheckRoomtype');
      var services = get_filter('CheckServices');
      var price = get_filter('CheckPrice');
      var rules = get_filter('CheckRules');
      $.ajax({
         url : '<?= base_url()?>userpanel/filter',
         method:'POST',
         data:{action:action,category:category,roomtype:roomtype,services:services,price:price,rules:rules},
         success:function(response){
            $('.old_filter').hide();
             $('.new_filter').show();
            $('.new_filter').html(response);
         }
      });
   });
   function get_filter(id){
      var filterData = [];
      $('#'+id+':checked').each(function(){
         filterData.push($(this).val());
      });
      return filterData;
   }

   function redirect(url){
      location.href = url;
   }



     
      $('#room_id').on('click','#select_room',function(){
            var id = $(this).data('id');
            let room = $(this);
            $.ajax({
            url  :'<?= base_url()?>userpanel/select_room',
            type : "POST",
            data : {id:id},
            success:function(response){
             // room.closest('.show').find('#select_room').hide();
             // room.closest('.show').find('#select_remove').show();
               location.reload();
            }
      });
             
      });

      $('#room_id').on('click','#select_remove',function(){
            var id = $(this).data('id');
            let room = $(this);
            $.ajax({
            url  :'<?= base_url()?>userpanel/select_remove',
            type : "POST",
            data : {id:id},
            success:function(response){
             // room.closest('.show').find('#select_remove').hide();
             // room.closest('.show').find('#select_room').show();
               location.reload();
            }
      });
             
      });
      
      $('#review_btn').click(function(){
         var name     = $('#review_name').val();
         var email    = $('#review_email').val();
         var homestay = $('#review_homestay').val();
         var comment  = $('#review_comment').val();
         if(name.length == ""){
            $('#error_name').show();
            $('#review_name').focus();
         }else{
            var name1 = name;
         }
         if(email.length == ""){
            $('#error_email').show();
            $('#review_email').focus();
         }else{
            var email1 = email;
         }
         if(comment.length == ""){
            $('#error_comment').show();
            $('#review_comment').focus();
         }else{
            var comment1 = comment;
         }
            $.ajax({
                  url  :'<?= base_url()?>userpanel/review_add',
                  type : "POST",
                  data : {name:name1,email:email1,comment:comment1,homestay:homestay},
                  success:function(){
                     location.reload();
                  }
            });
      });
      

      

      $('input[name="checkin"]').change(function(){
      var date = $(this).val();
      var startDate = new Date(date);
      
      var day = 60 * 60 * 24 * 1000;
      var endDate = new Date(startDate.getTime() + day);
      var month = endDate.getMonth()+1;
      var dateEnd = endDate.getFullYear()+'-'+ month +'-'+endDate.getDate();
      // alert(date);

      $('input[name="checkout"]').attr("min",dateEnd);
      $('input[name="checkout"]').val(dateEnd);
      $('input[name="checkout"]').focus();
    });

    $('#phone_validate').on('keyup',function(){ 
      var valid = /^\d*(?:\.\d{1,2})?$/;
      var phone = $(this).val();
      if( !(valid.test(phone) && phone.length == 10)){
         $('#error_mobile').show();
         $('#btn_mobile').hide();
      }else{
         $('#error_mobile').hide();
         $('#btn_mobile').show();
         $('#btn_mobile').on('click',function(){
            $.ajax({
                  url  :'<?= base_url()?>userpanel/otp_sender',
                  type : "POST",
                  data : {phone:phone},
                  success:function(data){
                    $('#exampleModal1').attr('class','modal');
                     $('#exampleModal1').modal('hide');
                     $('#phone_valid2').attr('value',phone);
                     $('#exampleModal2').modal('show');
                  }
            });
         });
      }
    });

    $('#btn_mobile').on('click',function(){

        var phone = $('#phone_validate').val();
        if(phone.length == ''){
            $('#error_mobile').show();
            $('#btn_mobile').hide();
        }
        

         });

    $('#otp_check').on('click',function(){ 
      var phone = $('#phone_valid2').val();
      var otp = $('#otp').val();
      $("#error_otp").hide();
            $.ajax({
                  url  :'<?= base_url()?>userpanel/otp_checker/'+phone+'/'+otp,
                  type : "POST",
                  dataType:"json",
                  success:function(data){
                     if(data[0].success){
                        location.reload();

                     }else{
                        
                        // $('#otp').val('');
                        $('#otp').css({'border': '1px solid red'});
                        $('#otp').focus();
                        $("#error_otp1").hide();
                        $("#error_otp").show();
                        $("#resend_btn").show();
                     }

                  }
            });
    });

    $('#resend').on('click',function(){ 
      var phone = $('#phone_valid2').val();
      $.ajax({
                  url  :'<?= base_url()?>userpanel/otp_sender',
                  type : "POST",
                  data : {phone:phone},
                  success:function(data){
                     $("#error_otp").hide();
                     $("#error_otp1").show();
                     $('#otp').val('');
                     $('#otp').focus();
                     
                     
                  }
            });
    });


   </script>

</body>

</html>
   
